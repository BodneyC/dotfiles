#!/bin/sh

N_MONITORS="$(xrandr -q | rg -c ' connected')"
SECOND_MNT="DisplayPort-1"

sxhkd &

if [ "$N_MONITORS" -gt 1 ]; then
	xrandr --output "$SECOND_MNT" --rotate left
	bspc monitor "$SECOND_MNT" -d 6 7 8 9 10
	bspc monitor               -d 1 2 3 4 5
	TERMINAL_DESKTOP=6
	BROWSER_DESKTOP=1
else
	bspc monitor -d 1 2 3 4 5 6 7 8 9 10
	TERMINAL_DESKTOP=1
	BROWSER_DESKTOP=2
fi

bspc config border_width         2
bspc config window_gap           10

bspc config split_ratio          0.52
bspc config borderless_monocle   true
bspc config gapless_monocle      true
bspc config normal_border_color  \#353535
bspc config focused_border_color \#AAAAAA
bspc config border_width		 1

### Sys

"$HOME/.config/polybar/launch.sh" &
compton --config "$HOME/.config/compton.conf" &

xrdb -load .Xresources

feh --bg-scale /usr/share/backgrounds/gnome/Fabric.jpg
xsetroot -cursor_name left_ptr

libinput-gestures-setup restart &

### User

bspc desktop ^$TERMINAL_DESKTOP -l monocle
bspc desktop ^$BROWSER_DESKTOP -l monocle

bspc desktop --focus ^$BROWSER_DESKTOP && firefox &
bspc desktop --focus ^$(( BROWSER_DESKTOP + 1 )) && firefox &
bspc desktop --focus ^$TERMINAL_DESKTOP && alacritty &
