#!/usr/bin/zsh

_yes_or_no() { # msg
	# shellcheck disable=SC2050
	while [[ 1 == 1 ]]; do 
		read "REPLY?$1 [yn] "
		case "$REPLY" in
			[yY]*) return 0 ;;
			[nN]*) return 1 ;;
			*)     printf "%s\n" "${ERRO_COL}Invalid option$NORM_COL"
		esac
	done
}

_did_you_mean() {
  echo "Did you mean '$1'?"; return 1
}

alias q="_yes_or_no 'Are you sure?' && systemctl poweroff -i"
alias reboot="_yes_or_no 'Are you sure?' && systemctl reboot -i"
alias l="ls -ha"
alias ll="ls -hls"
# alias texclean="rm *.log *.aux *.toc *.lof *.lot *.out *.dvi"
alias nettest="ping -c 2 google.com"
# Tmux
alias tkill="tmux kill-server"
alias tkeep="tmux kill-session -a"
alias tlist="tmux list-session"
alias qt="tmux kill-session"
alias at="tmux attach"
alias dt="tmux detach"
alias du='du -h'
alias df='df -h'
if hash exa 2>/dev/null; then
  alias e="exa --classify --group-directories-first --all"
  alias el="${aliases[e]} --long"
  alias ee="${aliases[e]} --long"
  alias es="${aliases[el]} --header --binary --group"
  alias ea="${aliases[es]} --all"
  alias e1="exa -1 --all"
  alias tree="exa -T"
else
  alias l="ls -ha"
  alias ll="ls -hls"
fi
alias vim="_did_you_mean 'v'"
alias rm="_did_you_mean 'rem'"
alias v="nvim"
alias mci="mvn clean install"
alias grso="git remote show origin"
alias grsuo="git remote set-url origin"
alias grao="git remote add origin"
alias fd="fd --hidden"
alias IGNORE_PROXY="ALL_PROXY=\"\" HTTPS_PROXY=\"\" HTTP_PROXY=\"\" "
alias bdate="date '+%Y-%M-%d'"

[[ $(alias | rg '^l=') ]] && unalias l
[[ $(alias | rg '^ls=') ]] && unalias ls
[[ $(alias | rg '^la=') ]] && unalias la
